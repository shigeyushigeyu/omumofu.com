---
const images = (() => {
  const arr = [];
  for(let i = 1; i <= 121; i++) {
    const num = i.toString().padStart(3, '0');
    arr.push(`/assets/images/gallery/${num}.png`);
  }
  return arr;
})();
---

<style>
  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(40, 400px); /* 横400pxを40個 */
    grid-template-rows: repeat(30, 300px);  /* 縦300pxを30個 */
    gap: 4px;
    justify-content: center; /* グリッド全体中央寄せ */
    padding: 10px;
  }

  .gallery-item {
    width: 400px;
    height: 300px;
    overflow: hidden;
    position: relative;
    background-color: #f0f0f0;
    border-radius: 6px;
    box-shadow: 0 0 5px rgb(0 0 0 / 0.1);
  }

  .gallery-item img {
    position: absolute;
    top: 50%;
    left: 50%;
    max-width: 100%;
    max-height: 100%;
    transform: translate(-50%, -50%);
    object-fit: contain; /* 縦横比を維持して枠内に収める */
  }

  /* スクロール出る場合に備えてレスポンシブ例 */
  @media screen and (max-width: 1800px) {
    .gallery-grid {
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      grid-template-rows: auto;
      justify-content: stretch;
    }
    .gallery-item {
      width: 100%;
      height: auto;
      aspect-ratio: 4 / 3;
    }
    .gallery-item img {
      position: static;
      transform: none;
      max-width: 100%;
      max-height: 100%;
    }
  }
</style>

<div class="gallery-grid">
  {images.map(src => (
    <div class="gallery-item">
      <img src={src} alt="gallery image" loading="lazy" />
    </div>
  ))}
</div>
